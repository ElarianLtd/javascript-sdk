<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Elarian</title>
    <script>
        window.DEBUG = true;
    </script>
    <script src="../dist/elarian.min.js"></script>
</head>
<body>
    <script>
        async function test() {

            const { Elarian, Customer } = ElarianSDK;
            const elarian = new Elarian({
                authToken: 'test_auth_token',
                orgId: 'test_org',
                appId: 'test_app',
            });
            console.log('Connecting...');
            await elarian.connect();
            console.log('Connected!');
            console.log('Getting auth token...');
            const token = await elarian.generateAuthToken();
            console.log(token);
            const customer = new Customer({
                client: elarian,
                customerNumber: {
                    number: '+254718769882',
                    provider: 'cellular',
                },
            });
            console.log('Gettting customer state...');
            const state = await customer.getState();
            console.log(state);
        };
        window.onload = (event) => {
            test().catch(console.error);
        };
    </script>
</body>
</html>