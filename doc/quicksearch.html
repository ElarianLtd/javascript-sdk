<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Elarian Classes ClientCustomer Global Global Global Type Definitions AuthToken Type: Object Properties: Name Type Description token string lifetime number in seconds Body An object representing a message body Type: Object Properties: Name Type Argument Description text string template string &lt;optional&gt; media Media &lt;optional&gt; location Location &lt;optional&gt; Cash An object representing cash Type: Object Properties: Name Type Description amount double currencyCode string ClientParams An object representing client params Type: Object Properties: Name Type Description apiKey string authToken string appId string orgId string ConfigOptions An object representing config options Type: Object Properties: Name Type Argument Description lifetime number &lt;optional&gt; keepAlive number &lt;optional&gt; reconnectInterval number &lt;optional&gt; serializer Serializer &lt;optional&gt; ConsentStatus Type: Object Properties: Name Type Description status string description string customerId string CustomerNumber An object representing a customer number. Type: Object Properties: Name Type Argument Description number string provider telco | telegram | facebook partition string &lt;optional&gt; CustomerParams An object representing customer params Type: Object Properties: Name Type Argument Description customerNumber CustomerNumber customerId string &lt;optional&gt; CustomerPayment An object representing a customer's payment source or destination Type: Object Properties: Name Type Description customerNumber CustomerNumber channelNumber PaymentChannelNumber CustomerState An object representing customer state Type: Object Properties: Name Type Description customerId string nuclearState NuclearState messagingState MessagingState ussdState UssdState voiceState VoiceState paymentState PaymentState Dequeue An object representing a 'dequeue' voice action Type: Object Dial An object representing a 'dial' voice action Type: Object Properties: Name Type Description customerNumbers Array.&lt;CustomerNumber&gt; record boolean sequential boolean ringbackTone string callerId string maxDuration number Enqueue An object representing a 'enqueue' voice action Type: Object Event An string representing an event Type: data | reminder | voiceCall | ussdSession | paymentStatus | messageStatus | receivedMessage | receivedPayment | walletPaymentStatus | messagingConsentStatus | messagingSessionStatus EventListener(data, customer) A function that reacts to events Parameters: Name Type Description data Object customer Customer Returns: A response to the event. Required for voice and ussd events Type UssdMenu | Array.&lt;VoiceAction&gt; | void GetDigits An object representing a 'getDigits' voice action Type: Object Properties: Name Type Argument Description timeout number finishOnKey string numDigits number say Say &lt;optional&gt; play Play &lt;optional&gt; GetRecording An object representing a 'getRecording' voice action Type: Object Properties: Name Type Argument Description playBeep boolean trimSilence boolean timeout number maxLength number finishOnKey string say Say &lt;optional&gt; play Play &lt;optional&gt; LeasedMetadata Type: string | * Location An object representing location Type: Object Properties: Name Type Description latitude double longitude double Media An object representing media Type: Object Properties: Name Type Description url string type image | video | audio | document | voice | sticker MessageStatus Type: Object Properties: Name Type Description status string description string customerId string messageId string MessagingChannelNumber An object representing a messaging channel number Type: Object Properties: Name Type Description number string provider telco | sms | telegram | whatsapp | google_rcs | fb_messenger MessagingState Type: Object Properties: Name Type Description channelState Array.&lt;ChannelState&gt; messages Array.&lt;MessageState&gt; customerNumbers Array.&lt;CustomerNumber&gt; channelNumbers Array.&lt;ChannelNumber&gt; NuclearState Type: Object Properties: Name Type Description tags Array.&lt;Tag&gt; metadata Object secondaryIds Array.&lt;SecondaryId&gt; reminders Array.&lt;Reminder&gt; PaymentChannelNumber An object representing a payment channel Type: Object Properties: Name Type Description number string provider telco PaymentState Type: Object Properties: Name Type Description wallets Object transactionLog Array.&lt;PaymentTransaction&gt; pendingTransactions Array.&lt;PaymentTransaction&gt; customerNumbers Array.&lt;CustomerNumber&gt; channelNumbers Array.&lt;PaymentChannelNumber&gt; PaymentStatus Type: Object Properties: Name Type Description status number description string transactionId string debitCustomerId string creditCustomerId string PaymentTransaction An object representing a payment transaction Type: Object Properties: Name Type Description transactionId string appId string creditParty CustomerPayment | Wallet | Purse debitParty CustomerPayment | Wallet | Purse value Cash status number createdAt number updatedAt number Play An object representing a 'play' voice action Type: Object Properties: Name Type Description url string Purse An object representing purse Type: Object Properties: Name Type Description purseId string RecordSession An object representing a 'recordSession' voice action Type: boolean Redirect An object representing a 'redirect' voice action Type: Object Reject An object representing a 'reject' voice action Type: boolean Reminder An object representing a reminder Type: Object Properties: Name Type Argument Description key string expiration number payload string interval number &lt;optional&gt; Say An object representing a 'say' voice action Type: Object Properties: Name Type Argument Description text string playBeep boolean &lt;optional&gt; voice male | female &lt;optional&gt; SecondaryId An object representing a secondary id. Secondary Ids can be used to add some more unique identities to a customer. e.g. driver's license, etc. Type: Object Properties: Name Type Description key string value string Serializer An object representing serializer Type: Object Properties: Name Type Description type text | binary serialize function deserialize function Tag An object representing a tag. Tags can be used to group customers based on some similarities. e.g. loan defaulters, etc. Type: Object Properties: Name Type Argument Description key string value string expiration number &lt;optional&gt; UpdateStatus Type: Object Properties: Name Type Description customerId string status boolean description string UssdChannelNumber An object representing a ussd channel Type: Object Properties: Name Type Description number string provider telco UssdMenu An object representing a ussd menu Type: Object Properties: Name Type Description text string isTerminal boolean UssdState Type: Object Properties: Name Type Description sessions Array.&lt;UssdSession&gt; customerNumbers Array.&lt;CustomerNumber&gt; channelNumbers Array.&lt;ChannelNumber&gt; VoiceAction An object representing a voice action. Note: Only one action is required in the object. Type: Object Properties: Name Type Description say Say play Play dial Dial recordSession RecordSession getRecording GetRecording enqueue Enqueue dequeue Dequeue reject Reject redirect Redirect VoiceChannelNumber An object representing a voice channel Type: Object Properties: Name Type Description number string provider telco VoiceState Type: Object Properties: Name Type Description calls Array.&lt;VoiceCall&gt; customerNumbers Array.&lt;CustomerNumber&gt; channelNumbers Array.&lt;ChannelNumber&gt; VoiceStatus Type: Object Properties: Name Type Description status number description string sessionId string customerId string Wallet An object representing wallet Type: Object Properties: Name Type Description customerId string walletId string WorkStatus Type: Object Properties: Name Type Description status boolean description string workId string × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Elarian Classes ClientCustomer Global Global Classes Classes Client Customer × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Elarian Classes ClientCustomer Global Global Javascript SDK A convenient way to interact with the Elarian APIs. Install You can install the package from npm by running: $ npm install elarian Usage // on node const { Client, Customer } = require('elarian'); // or in the browser &lt;script src=\"dist/elarian.min.js\"&gt;&lt;/script&gt; // ... const { Client, Customer } = Elarian; // ... const client = await Client.newInstance({ apiKey: 'test_api_key', // not needed in the browser authToken: 'test_auth_token', // required in the browser orgId: 'test_org_id', appId: 'test_app_id', }); client.on('ussdSession', async (data, customer) =&gt; { const { input, sessionId, } = data; const metadata = await customer.leaseMetadata('awesomeSurvey'); let { name, state = 'newbie', } = metadata; const menu = { text: null, isTerminal: true, }; switch (state) { case 'veteran': if (name) { menu.text = `Welcome back ${name}! What is your new name?`; menu.isTerminal = false; } else { name = input.value; menu.text = `Thank you for trying Elarian, ${name}!`; menu.isTerminal = true; await customer.sendMessage( { number: 'Elarian', provider: 'telco' }, { text: `Hey ${name}! Thank you for trying out Elarian` }, ); } break; case 'newbie': default: menu.text = 'Hey there, welcome to Elarian! What\\'s your name?'; menu.isTerminal = false; state = 'veteran'; break; } await customer.updateMetadata({ awesomeSurvey: { state, name, }, }); return menu; }); Documentation Take a look at the API docs here. For detailed info on this SDK, see the documentation. Development Run all tests: $ npm install $ npm test Issues If you find a bug, please file an issue on our issue tracker on GitHub. × Search results Close "},"Client.html":{"id":"Client.html","title":"Class: Client","body":" Elarian Classes ClientCustomer Global Global Class: Client Client new Client(params [, configOptions]) Instantiate an elarian client. You have to call connect() on then client to start using it Parameters: Name Type Argument Description params ClientParams configOptions ConfigOptions &lt;optional&gt; Methods &lt;static&gt; newInstance(params [, configOptions]) Instantiate and connect an elarian client Parameters: Name Type Argument Description params ClientParams configOptions ConfigOptions &lt;optional&gt; addCustomerReminder(customer, reminder) Set a reminder to be triggered at the specified time for a particular customer Parameters: Name Type Description customer Customer reminder Reminder Returns: Type UpdateStatus &lt;async&gt; addCustomerReminderByTag(tag, reminder) Set a reminder to be triggered at the specified time for customers with the particular tag Parameters: Name Type Description tag Tag reminder Reminder Returns: Type WorkStatus &lt;async&gt; adoptCustomerState(customer, otherCustomer) Adopt another customer's state Parameters: Name Type Description customer Customer otherCustomer Customer Returns: Type UpdateStatus authToken() Generate a short-lived auth token to use instead of apiKey. Used for browser and mobile clients. Returns: Type AuthToken &lt;async&gt; cancelCustomerReminder(customer, key) Cancels a previously set reminder with the key key on the customer Parameters: Name Type Description customer Customer key string Returns: Type UpdateStatus &lt;async&gt; cancelCustomerReminderByTag(tag, key) Cancels a previously set reminder with tag tag and key key Parameters: Name Type Description tag Tag key string Returns: Type WorkStatus connect() Initialize client connection to the API server &lt;async&gt; deleteCustomerMetadata(customer, keys) Remove some metadata from a customer. Parameters: Name Type Description customer Customer keys Array.&lt;string&gt; Returns: Type UpdateStatus &lt;async&gt; deleteCustomerSecondaryId(customer, secondaryIds) Delete a customer's secondary Ids Parameters: Name Type Description customer Customer secondaryIds Array.&lt;SecondaryId&gt; Returns: Type UpdateStatus &lt;async&gt; deleteCustomerTag(customer, tags) Remove tags from a customer Parameters: Name Type Description customer Customer tags Array.&lt;Tag&gt; Returns: Type UpdateStatus disconnect() Disconnect from the API server getCustomerState(customer) Fetch the customer's current state. Parameters: Name Type Description customer Customer Returns: Type CustomerState initiatePayment(debitParty, creditParty, value) Initiate a payment transaction Parameters: Name Type Description debitParty CustomerPayment | Wallet | Purse creditParty CustomerPayment | Wallet | Purse value Cash Returns: Type PaymentStatus &lt;async&gt; leaseCustomerMetadata(customer, key) Fetches the value of key from the customer's metdata and locks metadata fetching(for up to 90s) until next call to update metadata. Parameters: Name Type Description customer Customer key string Returns: Type LeasedMetadata makeVoiceCall(customer, channelNumber) Initiate a voice call to customer Parameters: Name Type Description customer Customer channelNumber VoiceChannelNumber Returns: Type VoiceStatus messagingConsent(customer, channelNumber, action) Opt in or out a customer from receiving messages from a channel Parameters: Name Type Description customer Customer channelNumber MessagingChannelNumber action opt-in | opt-out opt-in or opt-out Returns: Type ConsentStatus off(event) Remove listener registered for event. Can also be called with client.removeListener(event) Parameters: Name Type Description event Event The event whose listener to remove on(event, listener) Register a listener to watch out for events. Can also be called with client.registerListerner(event,listener) Parameters: Name Type Description event Event The event whose listener to register listener EventListener A function that reacts to events registerListerner(event, listener) Register a listener to watch out for events. Can also be called with client.on(event,listener) Parameters: Name Type Description event Event The event whose listener to register listener EventListener A function that reacts to events removeListener(event) Remove listener registered for event. Can also be called with client.off(event) Parameters: Name Type Description event Event The event whose listener to remove &lt;async&gt; replyToMessage(customer, replyToMessageId, body) Reply to a received message Parameters: Name Type Description customer Customer replyToMessageId string body Body Returns: Type MessageStatus sendMessage(customer, channelNumber, body) Send a message Parameters: Name Type Description customer Customer channelNumber MessagingChannelNumber body Body Returns: Type MessageStatus sendMessageByTag(tag, channelNumber, body) Send message by tag Parameters: Name Type Description tag Tag channelNumber MessagingChannelNumber body Body Returns: Type WorkStatus &lt;async&gt; updateCustomerMetadata(customer, metadata) Sets some metadata on the customer. Values in the metadata object can either be strings or buffers, depending on your serializer. @see Client Parameters: Name Type Description customer Customer metadata Object Returns: Type UpdateStatus &lt;async&gt; updateCustomerSecondaryId(customer, secondaryIds) Update a customer's secondary Ids Parameters: Name Type Description customer Customer secondaryIds Array.&lt;SecondaryId&gt; Returns: Type UpdateStatus &lt;async&gt; updateCustomerTag(customer, tags) Update a customer's tag list Parameters: Name Type Description customer Customer tags Array.&lt;Tag&gt; Returns: Type UpdateStatus × Search results Close "},"Customer.html":{"id":"Customer.html","title":"Class: Customer","body":" Elarian Classes ClientCustomer Global Global Class: Customer Customer new Customer(params) A customer is your end-user, represented by a number (from a telco, facebook or telegram) Parameters: Name Type Description params CustomerParams Methods addReminder(reminder) Set a reminder to be triggered at the specified time for a particular customer Parameters: Name Type Description reminder Reminder Returns: Type UpdateStatus adoptState(otherCustomer) Merge otherCustomer's state into this customer's state and discard otherCustomer Parameters: Name Type Description otherCustomer Customer Returns: Type UpdateStatus cancelReminder(key) Cancels a previously set reminder with the key key on the customer Parameters: Name Type Description key string Returns: Type UpdateStatus deleteMetadata(keys) Remove some metadata from a customer. keys is an array of strings Parameters: Name Type Description keys Array.&lt;string&gt; Returns: Type UpdateStatus deleteSecondaryId(secondaryIds) Remove some secondary Ids from a customer Parameters: Name Type Description secondaryIds Array.&lt;SecondaryId&gt; Returns: Type UpdateStatus deleteTag(tags) Remove some tags from a customer Parameters: Name Type Description tags Array.&lt;Tag&gt; Returns: Type UpdateStatus getState() Fetch the customer's current state. Returns: Type CustomerState leaseMetadata(key) Fetches the value of key from the customer's metdata and locks metadata fetching(for up to 90s) until next call to update metadata. Parameters: Name Type Description key string Returns: Type LeasedMetadata sendMessage(channelNumber, body) Send a message to the customer from the specified channel number. Parameters: Name Type Description channelNumber MessagingChannelNumber body Body Returns: Type MessageStatus updateMetadata(metadata) Sets some metadata on the customer. Values in the metadata object can either be strings or buffers, depending on the set serializer Parameters: Name Type Description metadata Object Returns: Type UpdateStatus updateSecondaryId(secondaryIds) Update a customer's secondary Ids Parameters: Name Type Description secondaryIds Array.&lt;SecondaryId&gt; Returns: Type UpdateStatus updateTag(tags) Update a customer's tag list. Parameters: Name Type Description tags Array.&lt;Tag&gt; Returns: Type UpdateStatus × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
